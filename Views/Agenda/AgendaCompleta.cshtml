@{
    ViewData["Title"] = "Agenda";
    var hoje = DateTime.Today.ToString("yyyy-MM-dd");
    var horaAtual = DateTime.Now.ToString("HH:00");
}

<main class="content-area">
    <!-- Visualização da Agenda -->
    <div class="card">
        <div class="card-header bg-light">
            <h5 class="mb-0">
                <i class="bi bi-calendar-week"></i> Agenda
            </h5>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered table-hover" id="tabelaAgendaSemana">
                    <thead class="table-light">
                        <tr>
                            <th>Horário</th>
                            <th>Segunda</th>
                            <th>Terça</th>
                            <th>Quarta</th>
                            <th>Quinta</th>
                            <th>Sexta</th>
                            <th>Sábado</th>
                        </tr>
                    </thead>
                    <tbody id="tabelaAgendaSemanaBody">
                        <!-- As linhas serão preenchidas via JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</main>


@section Scripts {
    <script src="~/js/agendamento.js" asp-append-version="true"></script>
    <script src="../js/calendario.js"></script>
    <script>
        // Inicialização adicional pode ser feita aqui
        document.addEventListener('DOMContentLoaded', function() {
            // Inicialização do tooltip do Bootstrap
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });

            // Inicialização do datepicker
            if (flatpickr) {
                flatpickr("input[type='date']", {
                    dateFormat: "Y-m-d",
                    allowInput: true,
                    locale: "pt"
                });

                flatpickr("input[type='time']", {
                    enableTime: true,
                    noCalendar: true,
                    dateFormat: "H:i",
                    time_24hr: true
                });
            }
        });
    </script>
}