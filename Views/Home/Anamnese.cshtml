@{
    ViewData["Title"] = "Anamnese";
}

<main class="content-area">
    <section class="anamnese-wrap">
        <div id="selecaoPacienteCard" class="anamnese-form-card">
            <h2>Selecionar paciente</h2>
            <div class="form-grid" style="grid-template-columns:1fr;">
                <div class="form-field">
                    <label for="selectPacienteSearch">Paciente</label>
                    <input id="selectPacienteSearch" type="search" list="pacientesList" placeholder="Pesquisar paciente" class="form-control" />
                    <datalist id="pacientesList"></datalist>
                </div>
            </div>
            <div class="form-actions" style="margin-top: 1rem;">
                <button type="button" id="btnEscolherPaciente" class="btn btn-primary">Continuar</button>
            </div>
        </div>

        <div id="formCard" class="anamnese-form-card" style="display: none;">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2 id="pacienteTitulo" class="mb-0">Anamnese</h2>
                <button type="button" id="btnVoltar" class="btn btn-outline-secondary btn-sm">
                    <i class="fas fa-arrow-left"></i> Voltar
                </button>
            </div>
            <form id="anamneseForm" autocomplete="off">
                <input type="hidden" id="anamneseId" />
                <div class="form-grid">
                    <div class="form-field">
                        <label for="data">Data</label>
                        <input id="data" name="data" type="date" class="form-control" required />
                    </div>
                    <div class="form-field form-field-full">
                        <label for="queixa">Queixa principal</label>
                        <textarea id="queixa" name="queixa" rows="3" class="form-control" required></textarea>
                    </div>
                    <div class="form-field form-field-full">
                        <label for="historico">Histórico</label>
                        <textarea id="historico" name="historico" rows="3" class="form-control"></textarea>
                    </div>
                    <div class="form-field form-field-full">
                        <label for="sinais">Sinais e sintomas</label>
                        <textarea id="sinais" name="sinais" rows="3" class="form-control"></textarea>
                    </div>
                    <div class="form-field form-field-full">
                        <label for="exames">Exames complementares</label>
                        <textarea id="exames" name="exames" rows="3" class="form-control"></textarea>
                    </div>
                    <div class="form-field form-field-full">
                        <label for="hipoteses">Hipóteses diagnósticas</label>
                        <textarea id="hipoteses" name="hipoteses" rows="3" class="form-control"></textarea>
                    </div>
                    <div class="form-field form-field-full">
                        <label for="plano">Evolução do Paciente</label>
                        <textarea id="plano" name="plano" rows="3" class="form-control"></textarea>
                    </div>
                </div>
                <div class="form-actions mt-4">
                    <button type="submit" class="btn btn-primary" id="btnSalvar">
                        <i class="fas fa-save"></i> Salvar
                    </button>
                    <button type="button" class="btn btn-outline-secondary" id="btnCancelar" style="display:none;">
                        <i class="fas fa-times"></i> Cancelar edição
                    </button>
                    <button type="reset" class="btn btn-outline-secondary">
                        <i class="fas fa-eraser"></i> Limpar
                    </button>
                </div>
            </form>
        </div>

        <div id="listCard" class="anamnese-list-card" style="display: none;">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h2 class="mb-0">Histórico de anamneses</h2>
                <div class="input-group" style="max-width: 300px;">
                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                    <input id="busca" type="search" class="form-control" placeholder="Buscar anamnese..." />
                </div>
            </div>
            <div class="table-responsive">
                <table id="tabelaAnamneses" class="table table-hover">
                    <thead class="table-light">
                        <tr>
                            <th data-col="data">Data</th>
                            <th>Resumo</th>
                            <th style="width: 180px;">Ações</th>
                        </tr>
                    </thead>
                    <tbody class="table-group-divider"></tbody>
                </table>
            </div>
            <div class="text-center py-3">
                <button type="button" id="btnNovaAnamnese" class="btn btn-primary">
                    <i class="fas fa-plus"></i> Nova Anamnese
                </button>
            </div>
        </div>
    </section>
</main>